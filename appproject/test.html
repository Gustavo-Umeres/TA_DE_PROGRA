<!DOCTYPE html>
<html lang="es">
<head>
    {% load static %}
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Confirmación de Compra</title>
    <style>
       /* Estilos generales */
       body {
           font-family: Arial, sans-serif;
           background-color: #f4f4f4;
           margin: 0;
           padding: 0;
           color: #333;
           display: flex;
           justify-content: center;
           align-items: flex-start;
           min-height: 100vh;
       }

       .email-container {
           background-color: #fff;
           width: 100%;
           max-width: 600px;
           margin: 20px auto;
           padding: 20px;
           border-radius: 8px;
           box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
           text-align: center;
       }

       /* Estilos del logo */
       .logo {
           text-align: center;
           margin-bottom: 20px;
       }

       svg {
           width: 80px; /* Tamaño reducido del logo */
           height: auto;
           margin-top: 10px; /* Margen superior reducido */
       }

       /* Títulos y párrafos */
       h2 {
           color: #4CAF50;
           font-size: 24px;
           margin: 20px 0;
       }

       p {
           font-size: 16px;
           line-height: 1.6;
           text-align: center;
       }

       /* Tabla de productos */
       .order-table {
           width: 100%;
           border-collapse: collapse;
           margin: 20px 0;
       }

       .order-table th, .order-table td {
           padding: 10px;
           text-align: left;
           border-bottom: 1px solid #ddd;
       }

       .order-table th {
           background-color: #f9f9f9;
           font-weight: bold;
       }

       .order-table td {
           font-size: 14px;
       }

       /* Total pagado */
       .total {
           font-size: 18px;
           font-weight: bold;
           margin-top: 20px;
       }

       /* Footer */
       .footer {
           margin-top: 20px;
           font-size: 14px;
           color: #777;
       }

       .footer a {
           color: #4CAF50;
           text-decoration: none;
       }

       .footer a:hover {
           text-decoration: underline;
       }

    </style>
</head>
<body>
    <!-- Contenedor principal -->
    <div class="email-container">

        <!-- Logo centrado en la parte superior -->
        <div class="logo">
            <svg version="1.0" xmlns="http://www.w3.org/2000/svg"
             width="500.000000pt" height="500.000000pt" viewBox="0 0 500.000000 500.000000"
             preserveAspectRatio="xMidYMid meet">
                <g transform="translate(0.000000,500.000000) scale(0.100000,-0.100000)"
                 fill="#000000" stroke="none">
                    <path d="M160 4351 c0 -5 21 -28 48 -51 46 -42 181 -172 433 -418 l126 -123
                    288 1 c158 1 289 -1 292 -4 3 -2 -5 -80 -16 -173 -11 -92 -24 -206 -27 -253
                    l-6 -85 298 -291 c165 -160 405 -392 534 -517 l235 -226 6 137 c3 75 8 558 10
                    1072 l4 935 -1112 3 c-633 1 -1113 -2 -1113 -7z"/>
                    <path d="M2607 4353 c-2 -5 1 -486 6 -1071 8 -831 13 -1062 23 -1060 11 3 278
                    258 714 684 102 100 223 217 269 261 l84 79 -27 240 c-14 131 -26 247 -26 257
                    0 16 21 17 288 17 240 1 290 3 307 16 11 8 94 88 185 177 91 89 220 216 288
                    281 67 66 122 121 122 123 0 7 -2229 3 -2233 -4z"/>
                    <path d="M350 1195 l0 -455 438 2 437 3 0 275 0 275 -217 3 -218 2 0 -105 0
                    -105 95 0 96 0 -3 -67 -3 -68 -184 -3 c-106 -1 -187 1 -190 7 -3 5 -5 117 -3
                    250 l3 240 309 -6 309 -6 6 24 c3 13 5 60 3 104 l-3 80 -437 3 -438 2 0 -455z"/>
                    <path d="M1350 1195 l0 -455 438 2 437 3 3 453 2 452 -440 0 -440 0 0 -455z
                    m628 247 c9 -7 12 -63 10 -248 l-3 -239 -192 -3 -193 -2 0 243 c0 134 3 247 7
                    250 9 10 355 8 371 -1z"/>
                    <path d="M2360 1550 l0 -99 128 -3 127 -3 3 -352 2 -353 120 0 120 0 0 350 0
                    350 23 5 c12 3 72 5 132 3 l110 -3 5 -350 5 -350 117 -3 118 -3 2 353 3 353
                    85 0 c47 1 104 2 128 3 l42 2 0 100 0 100 -635 0 -635 0 0 -100z"/>
                    <path d="M3765 1558 c-3 -51 -5 -255 -3 -453 l3 -360 123 -3 122 -3 0 106 0
                    105 195 0 194 0 3 -102 3 -103 114 -3 c85 -2 117 1 123 10 9 15 11 820 2 867
                    l-6 31 -433 0 -433 0 -7 -92z m633 -256 l3 -142 -196 0 -195 0 0 138 c0 76 2
                    141 5 144 3 3 90 5 193 4 l187 -1 3 -143z"/>
                </g>
            </svg>
        </div>

        <!-- Contenido de la boleta de compra -->
        <h2>Gracias por tu compra, {{ user.first_name }} {{ user.last_name }}!</h2>
        <p>Hemos recibido tu pedido con éxito. Aquí tienes el resumen de tu compra:</p>

        <!-- Información del pedido -->
        <div class="order-summary">
            <p><strong>ID ORDEN:</strong> {{ order.id }}</p>

            <!-- Tabla de productos -->
            <h3>Productos comprados</h3>
            <table class="order-table">
                <thead>
                    <tr>
                        <th>Producto</th>
                        <th>Cantidad</th>
                        <th>Subtotal</th>
                    </tr>
                </thead>
                <tbody>
                    {% for item in items %}
                    <tr>
                        <td>{{ item.product_size.product.name }} (Talla: {{ item.product_size.size.name }})</td>
                        <td>{{ item.quantity }}</td>
                        <td>{{ item.price|floatformat:2 }}</td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>

            <!-- Total pagado -->
            <p class="total"><strong>Total pagado:</strong> {{ total_price|floatformat:2 }}</p>

            <!-- Dirección de envío -->
            <p><strong>Dirección de envío:</strong> {{ shipping_address }}</p>
        </div>

        <p>Esperamos que disfrutes de tu compra. ¡Gracias por confiar en nosotros!</p>

        <div class="footer">
            <p>&copy; {{ user.first_name }}. Si tienes alguna pregunta, <a href="mailto:soporte@tu-tienda.com">contáctanos</a>.</p>
        </div>
    </div>
</body>
</html>
